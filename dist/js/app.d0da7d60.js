(function(t){function e(e){for(var a,c,l=e[0],s=e[1],r=e[2],u=0,f=[];u<l.length;u++)c=l[u],i[c]&&f.push(i[c][0]),i[c]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);d&&d(e);while(f.length)f.shift()();return o.push.apply(o,r||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,l=1;l<n.length;l++){var s=n[l];0!==i[s]&&(a=!1)}a&&(o.splice(e--,1),t=c(c.s=n[0]))}return t}var a={},i={app:0},o=[];function c(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=t,c.c=a,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(n,a,function(e){return t[e]}.bind(null,a));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=e,l=l.slice();for(var r=0;r<l.length;r++)e(l[r]);var d=s;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0ecd":function(t,e,n){},"3a3d":function(t,e,n){"use strict";var a=n("ceac"),i=n.n(a);i.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),i=n("bb71");n("da64");a["a"].use(i["a"],{iconfont:"md"});var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-toolbar",{attrs:{extended:"",app:""}},[n("v-toolbar-title",{staticClass:"headline text-uppercase"},[n("span",[t._v("MONGO DB")]),t._v(" \n      "),n("span",{staticClass:"font-weight-light"},[t._v("MATERIAL")])]),n("v-spacer"),n("Nav")],1),n("v-content",[n("router-view")],1)],1)},c=[],l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-toolbar-items",[n("v-btn",{attrs:{flat:""},on:{click:function(e){return t.navigateTo({name:"home"})}}},[t._v("home")]),n("v-btn",{attrs:{flat:""},on:{click:function(e){return t.navigateTo({name:"database"})}}},[t._v("database")]),n("v-btn",{attrs:{color:"pink",dark:"",small:"",absolute:"",bottom:"",left:"",fab:""},on:{click:function(e){return t.$store.dispatch("setInsertDialog",!0)}}},[n("v-icon",[t._v("add")])],1)],1)},s=[],r={methods:{navigateTo:function(t){this.$router.push(t)}}},d=r,u=(n("3a3d"),n("2877")),f=n("6544"),v=n.n(f),h=n("8336"),p=n("132d"),m=n("2a7f"),g=Object(u["a"])(d,l,s,!1,null,"cfceeb96",null),b=g.exports;v()(g,{VBtn:h["a"],VIcon:p["a"],VToolbarItems:m["a"]});var D={components:{Nav:b},name:"App",data:function(){return{}}},x=D,_=n("7496"),I=n("549c"),y=n("9910"),E=n("71d9"),k=Object(u["a"])(x,o,c,!1,null,null,null),O=k.exports;v()(k,{VApp:_["a"],VContent:I["a"],VSpacer:y["a"],VToolbar:E["a"],VToolbarTitle:m["b"]});var S=n("8c4f"),T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{"align-center":"","justify-center":"",row:"","fill-height":""}},[n("v-flex",{staticClass:"text-xs-center",attrs:{xs12:""}},[n("h1",[t._v(t._s(t.title))])])],1)},j=[],V={data:function(){return{title:"home page"}},methods:{}},$=V,C=n("0e8f"),w=n("a722"),A=Object(u["a"])($,T,j,!1,null,"191eda38",null),P=A.exports;v()(A,{VFlex:C["a"],VLayout:w["a"]});var N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sections"},[n("v-layout",{attrs:{"align-start":"","justify-center":"",row:"","fill-height":""}},[n("v-dialog",{attrs:{"max-width":"800px"},model:{value:t.$store.state.editDialog,callback:function(e){t.$set(t.$store.state,"editDialog",e)},expression:"$store.state.editDialog"}},[n("v-card",[n("v-card-title",[n("h4",[t._v("editDialog Title")])]),n("v-card-text",[n("v-container",{attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-textarea",{ref:"editInputArea",attrs:{box:"",label:"Value"},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changeInfo(e)}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.closeEditDialog}},[t._v("Cancel")]),n("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.changeInfo}},[t._v("Save")])],1)],1)],1),n("v-dialog",{attrs:{"max-width":"800px"},model:{value:t.$store.state.deleteItemDialog,callback:function(e){t.$set(t.$store.state,"deleteItemDialog",e)},expression:"$store.state.deleteItemDialog"}},[n("v-card",[n("v-card-title",[n("h4",[t._v("deleteitem Dialog Title")])]),n("v-card-text",[n("v-container",{attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:""}},[t._v(t._s(this.editObject.value))])],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.closeDeleteItemDialog}},[t._v("Cancel")]),n("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.deleteEntry}},[t._v("Delete")])],1)],1)],1),n("v-dialog",{attrs:{"max-width":"800px"},model:{value:t.deleteDialog,callback:function(e){t.deleteDialog=e},expression:"deleteDialog"}},[n("v-card",[n("v-card-title",[n("h4",[t._v("delete item")])]),n("v-card-text",[n("v-container",{attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:""}},[t._v("are you sure you want to delete this item")])],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.closeDeleteDialog}},[t._v("Cancel")]),n("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.confirmDelete}},[t._v("Delete")])],1)],1)],1),n("v-flex",{staticClass:"blue lighten-5",attrs:{xs10:""}},[n("v-dialog",{attrs:{"max-width":"800px"},model:{value:t.$store.state.insertDialog,callback:function(e){t.$set(t.$store.state,"insertDialog",e)},expression:"$store.state.insertDialog"}},[n("v-card",[n("v-card-title",[n("h4",[t._v("Add an Item")])]),n("v-card-text",[n("v-container",{attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{label:"key",box:""},model:{value:t.key,callback:function(e){t.key=e},expression:"key"}}),n("v-textarea",{ref:"insertInputArea",attrs:{box:"",label:"Value"},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.insertInfo(e)}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.closeInsertDialog}},[t._v("Cancel")]),n("v-btn",{attrs:{color:"blue darken-1",flat:""},on:{click:t.insertInfo}},[t._v("Save")])],1)],1)],1),n("v-expansion-panel",{attrs:{expand:""}},t._l(t.sections,function(e,a){return n("Recur",{key:e._id,attrs:{elements:e,index:a,k:a,deletable:!0},on:{"delete-document":t.openDeleteDialog,"edit-document":t.openEditDialog}})}),1)],1)],1)],1)},J=[],L=n("bd86"),B=n("cebc"),M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-expansion-panel-content",{staticClass:"hover",scopedSlots:t._u([{key:"header",fn:function(){return[n("div",{staticClass:"title"},[t._v(t._s(t.k))]),n("v-spacer",{staticClass:"spacer"}),t.deletable?n("v-btn",{attrs:{color:"grey",flat:"",fab:"",small:""},on:{click:t.deleteDocument}},[n("v-icon",[t._v("delete")])],1):t._e()]},proxy:!0}])},[n("v-layout",["object"==t.type?n("v-flex",{staticClass:"pa-2 fl",attrs:{"xs-12":""}},[n("v-expansion-panel",{attrs:{expand:""},model:{value:t.panel,callback:function(e){t.panel=e},expression:"panel"}},t._l(t.elements,function(e,a,i){return n("recur",{key:a,attrs:{elements:e,k:a,index:i,path:t.cPath}})}),1)],1):n("v-flex",{attrs:{xs12:""}},[n("h4",{staticClass:"text-xs-center"},[t._v(t._s(t.value))]),n("Badge",{on:{edit:t.editDocument,"delete-item":t.deleteItem}})],1)],1)],1)},F=[],R=(n("4917"),n("3b2b"),n("7618")),G=n("a4bb"),U=n.n(G),q=(n("6b54"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-xs-center pa-2"},[n("v-badge",{attrs:{left:""}},[n("v-icon",{attrs:{color:"grey lighten-1"},on:{click:t.edit}},[t._v("edit")])],1),n("v-badge",{attrs:{color:"red"}},[n("v-icon",{attrs:{color:"grey"},on:{click:t.deleteItem}},[t._v("delete")])],1)],1)}),z=[],H={methods:{edit:function(){this.$emit("edit")},deleteItem:function(){this.$emit("delete-item")}}},K=H,Q=n("4ca6"),W=Object(u["a"])(K,q,z,!1,null,"420fdcd8",null),X=W.exports;v()(W,{VBadge:Q["a"],VIcon:p["a"]});var Y=n("bc3a"),Z=n.n(Y),tt=function(){return Z.a.create({baseURL:"http://localhost:5000"})},et={getSections:function(){return tt().get("/")},putSection:function(t){return tt().put("/",t)},postSection:function(t){return tt().post("/",t)},getSection:function(t){return tt().get("/sections/"+t)},deleteSection:function(t){return tt().delete("/",{data:t})}},nt={name:"recur",props:["elements","k","index","path","deletable"],components:{recur:lt,Badge:X},data:function(){return{docId:null,dialog:!1,deleteDialog:!1,value:this.elements,panel:[],isActive:!0}},mounted:function(){var t=this.documentIndex[0];this.docId=this.$store.state.sections[t]._id.toString()},methods:{editDocument:function(){var t={id:this.docId,field:this.cField,component:this,value:this.value};this.$store.dispatch("setEditDialog",!0),this.$store.dispatch("setEditObject",t)},deleteItem:function(){var t={id:this.docId,field:this.cField,component:this,path:this.cPath};this.$store.dispatch("setDeleteItemDialog",!0),this.$store.dispatch("setEditObject",t)},deleteDocument:function(t){t.stopPropagation(),this.$emit("delete-document",this.docId)},confirmDelete:function(){var t=this,e={_id:this.docId};et.deleteSection(e).then(function(e){console.log(e.data.ok?"Votre document a été supprimé : \n ".concat(t.docId):"Votre document n'a PAS été supprimé !"),t.$store.dispatch("fetchSections")}),this.closeDelete()},changeInfo:function(){var t=this,e={_id:this.docId,payload:Object(L["a"])({},this.cField,this.value)};et.putSection(e).then(function(n){return console.log(n.data.nModified?"Votre modification a été enregistrée : \n ".concat(U()(e.payload)[0]," => ").concat(e.payload[t.cField]):"Votre modification n'a PAS été enregistrée !")}),this.close()},close:function(){this.dialog=!1},closeDelete:function(){this.$store.state.deleteDialog=!1}},computed:{type:function(){return Object(R["a"])(this.elements)},cPath:function(){return this.path?"".concat(this.path,".").concat(this.k):"".concat(this.k)},cField:function(){return this.cPath.slice(2)},documentIndex:function(){var t=new RegExp(/[^\.]*/);return this.cPath.match(t)}}},at=nt,it=(n("b254"),n("cd55")),ot=n("49e2"),ct=Object(u["a"])(at,M,F,!1,null,"e9087c76",null),lt=ct.exports;v()(ct,{VBtn:h["a"],VExpansionPanel:it["a"],VExpansionPanelContent:ot["a"],VFlex:C["a"],VIcon:p["a"],VLayout:w["a"],VSpacer:y["a"]});var st=n("2f62"),rt={components:{Recur:lt},data:function(){return{title:"database",key:"",value:"",deleteDialog:!1,idToEdit:null,idToDelete:null,path:""}},computed:Object(B["a"])({},Object(st["c"])(["sections","editObject","editDialog","insertDialog","deleteItemDialog"])),watch:{editDialog:function(t){var e=this;!0===t&&(this.value=this.editObject.value,this.$nextTick(function(){e.$refs.editInputArea.focus()}))},insertDialog:function(t){var e=this;!0===t&&this.$nextTick(function(){e.$refs.insertInputArea.focus()})}},methods:Object(B["a"])({},Object(st["b"])(["fetchSections","insertDocument","editDocument","deleteItem","setEditDialog","setInsertDialog","setDeleteItemDialog","resetEditObject"]),{ifJSON:function(t){try{JSON.parse(t)}catch(e){return!1}return!0},testJSON:function(t){return this.ifJSON(this.value)?JSON.parse(t):JSON.parse('"'.concat(t,'"'))},changeInfo:function(){var t=this,e=this.value;this.editDocument(e).then(function(n){console.log(n.data.nModified?"Votre modification a été enregistrée : \n ".concat(t.editObject.field," => ").concat(t.value):"Votre modification n'a PAS été enregistrée !"),t.editObject.component.value=e,t.resetEditObject(),t.value=""}),this.setEditDialog(!1)},deleteEntry:function(){var t=this;this.deleteItem().then(function(e){console.log(e.data.nModified?"Votre modification a été enregistrée : \n ".concat(t.editObject.field," => effacé"):"Votre modification n'a PAS été enregistrée !"),t.fetchSections(),t.value=""}),this.setDeleteItemDialog(!1)},insertInfo:function(){var t=this,e=this.key?Object(L["a"])({},this.key,this.testJSON(this.value)):{key:this.testJSON(this.value)};this.insertDocument(e).then(function(e){console.log(e.data),t.fetchSections(),t.value=""}),this.closeInsertDialog()},confirmDelete:function(){var t=this,e={_id:this.idToDelete};et.deleteSection(e).then(function(e){console.log(e.data.ok?"Votre document a été supprimé : \n ".concat(t.idToDelete):"Votre document n'a PAS été supprimé !"),t.fetchSections(),t.idToDelete=null,t.deleteDialog=!1})},openInsertDialog:function(){this.setInsertDialog(!0)},closeInsertDialog:function(){this.setInsertDialog(!1),this.value="",this.key=""},openEditDialog:function(){this.setEditDialog(!0)},closeEditDialog:function(){this.setEditDialog(!1),this.value=""},openDeleteItemDialog:function(){this.setDeleteItemDialog(!0)},closeDeleteItemDialog:function(){this.setDeleteItemDialog(!1),this.value=""},openDeleteDialog:function(t){this.deleteDialog=!0,this.idToDelete=t},closeDeleteDialog:function(){this.deleteDialog=!1,this.idToDelete=null}}),created:function(){this.fetchSections()}},dt=rt,ut=(n("759a"),n("b0af")),ft=n("99d9"),vt=n("12b2"),ht=n("a523"),pt=n("169a"),mt=n("2677"),gt=n("a844"),bt=Object(u["a"])(dt,N,J,!1,null,"142ce8f6",null),Dt=bt.exports;v()(bt,{VBtn:h["a"],VCard:ut["a"],VCardActions:ft["a"],VCardText:ft["b"],VCardTitle:vt["a"],VContainer:ht["a"],VDialog:pt["a"],VExpansionPanel:it["a"],VFlex:C["a"],VLayout:w["a"],VSpacer:y["a"],VTextField:mt["a"],VTextarea:gt["a"]}),a["a"].use(S["a"]);var xt=new S["a"]({mode:"history",routes:[{path:"/",name:"home",component:P},{path:"/database",name:"database",component:Dt}]});a["a"].use(st["a"]);var _t=new st["a"].Store({state:{sections:[],editObject:{},editDialog:!1,insertDialog:!1,deleteItemDialog:!1},mutations:{SET_SECTIONS:function(t,e){t.sections=e},SET_EDIT_OBJECT:function(t,e){t.editObject=e},RESET_EDIT_OBJECT:function(t){t.editObject={}},SET_EDIT_DIALOG:function(t,e){t.editDialog=e},SET_INSERT_DIALOG:function(t,e){t.insertDialog=e},SET_DELETE_ITEM_DIALOG:function(t,e){t.deleteItemDialog=e}},actions:{fetchSections:function(t){var e=t.commit;return et.getSections().then(function(t){e("SET_SECTIONS",t.data),console.log("fetched sections")})},setEditObject:function(t,e){var n=t.commit;n("SET_EDIT_OBJECT",e)},resetEditObject:function(t){var e=t.commit;e("RESET_EDIT_OBJECT")},setEditDialog:function(t,e){var n=t.commit;n("SET_EDIT_DIALOG",e)},setInsertDialog:function(t,e){var n=t.commit;n("SET_INSERT_DIALOG",e)},setDeleteItemDialog:function(t,e){var n=t.commit;n("SET_DELETE_ITEM_DIALOG",e)},insertDocument:function(t,e){t.dispatch;var n={payload:e};return et.postSection(n)},editDocument:function(t,e){var n=t.state,a={_id:n.editObject.id,payload:Object(L["a"])({},n.editObject.field,e),modifyer:"$set"};return et.putSection(a)},deleteItem:function(t){var e=t.state,n={_id:e.editObject.id,payload:Object(L["a"])({},e.editObject.field,""),modifyer:"$unset"};return et.putSection(n)}}});a["a"].config.productionTip=!1,new a["a"]({router:xt,store:_t,render:function(t){return t(O)}}).$mount("#app")},"759a":function(t,e,n){"use strict";var a=n("0ecd"),i=n.n(a);i.a},b254:function(t,e,n){"use strict";var a=n("c499"),i=n.n(a);i.a},c499:function(t,e,n){},ceac:function(t,e,n){}});
//# sourceMappingURL=app.d0da7d60.js.map