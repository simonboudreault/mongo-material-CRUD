(function(t){function e(e){for(var n,r,s=e[0],c=e[1],l=e[2],d=0,v=[];d<s.length;d++)r=s[d],o[r]&&v.push(o[r][0]),o[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(v.length)v.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,s=1;s<a.length;s++){var c=a[s];0!==o[c]&&(n=!1)}n&&(i.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},o={app:0},i=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/mongo-material-CRUD/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var n=a("1356"),o=a.n(n);o.a},1356:function(t,e,a){},"28ca":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);var n={};a.r(n),a.d(n,"state",function(){return Yt}),a.d(n,"mutations",function(){return Ht}),a.d(n,"actions",function(){return qt});a("cadf"),a("551c"),a("f751"),a("097d");var o=a("2b0e"),i=a("bb71");a("da64");o["a"].use(i["a"],{iconfont:"md",options:{customProperties:!0},theme:{primary:"#1a1a1a",secondary:"#777777",accent:"#13aa52",error:"#B00020",info:"#46494C",success:"#13aa52",warning:"#FFC107"}});var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("Notifications"),a("v-toolbar",{attrs:{dark:"",extended:"",app:"",color:"primary"},scopedSlots:t._u([t.$store.state.isUserLoggedIn?{key:"extension",fn:function(){return[a("v-spacer"),a("v-toolbar-title",{staticClass:"white--text body-2 user"},[a("v-icon",{staticClass:"mr-2",attrs:{color:"accent",size:"25"}},[t._v("account_circle")]),t._v("\n        "+t._s(t.$store.state.user.email)+"\n      ")],1)]},proxy:!0}:null],null,!0)},[a("div",{staticClass:"progressBarContainer"},[a("Progress")],1),a("v-toolbar-title",{staticClass:"headline text-uppercase"},[a("span",{class:{subheading:t.$vuetify.breakpoint.xs}},[t._v("MONGO DB")]),t._v("Â \n      "),a("span",{staticClass:"font-weight-light",class:{subheading:t.$vuetify.breakpoint.xs}},[t._v("MATERIAL")]),t.$vuetify.breakpoint.xs?t._e():a("img",{staticClass:"feuille",attrs:{src:"images/mongo.svg"}})]),a("v-spacer"),t.$vuetify.breakpoint.xs?a("mobileNav"):t._e(),t.$vuetify.breakpoint.xs?t._e():a("Nav")],1),a("v-content",[a("router-view")],1)],1)},s=[],c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-toolbar-items",[a("v-btn",{attrs:{flat:"",dark:""},on:{click:function(e){return t.navigateTo({name:"home"})}}},[t._v("home")]),t.$store.state.isUserLoggedIn?a("v-btn",{attrs:{flat:"",dark:""},on:{click:function(e){return t.navigateTo({name:"database"})}}},[t._v("database")]):t._e(),t.$store.state.isUserLoggedIn?t._e():a("v-btn",{attrs:{flat:"",dark:""},on:{click:function(e){return t.navigateTo({name:"register"})}}},[t._v("register")]),t.$store.state.isUserLoggedIn?t._e():a("v-btn",{attrs:{flat:"",dark:""},on:{click:function(e){return t.navigateTo({name:"login"})}}},[t._v("login")]),t.$store.state.isUserLoggedIn?a("v-btn",{attrs:{flat:"",dark:""},on:{click:t.logout}},[t._v("logout")]):t._e(),a("v-fab-transition",[a("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return["database"===t.$route.name?a("v-btn",t._g({attrs:{color:"accent",dark:"",small:"",absolute:"",bottom:"",left:"",fab:""},on:{click:function(e){return t.$store.dispatch("setInsertDialog",!0)}}},n),[a("v-icon",[t._v("add")])],1):t._e()]}}])},[a("span",[t._v("Add a Document")])])],1)],1)},l=[],u=(a("7f7f"),{components:{},methods:{navigateTo:function(t){var e=this;"database"===t.name&&this.$store.dispatch("setLoadingStatus",!0),setTimeout(function(){e.$router.push(t)},10)},logout:function(){this.$store.dispatch("logout"),this.$router.push({name:"home"})}}}),d=u,v=(a("6e91"),a("2877")),f=a("6544"),p=a.n(f),h=a("8336"),m=a("0789"),b=a("132d"),g=a("2a7f"),x=a("3a2f"),_=Object(v["a"])(d,c,l,!1,null,"b046b8ce",null),k=_.exports;p()(_,{VBtn:h["a"],VFabTransition:m["b"],VIcon:b["a"],VToolbarItems:g["a"],VTooltip:x["a"]});var y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-toolbar-items",[a("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-btn",t._g({attrs:{fab:"",flat:"",color:"primary",dark:""}},n),[a("v-toolbar-side-icon")],1)]}}])},[a("v-list",[a("v-list-tile",{on:{click:function(e){return t.navigateTo({name:"home"})}}},[a("v-list-tile-title",[t._v("home")])],1),t.$store.state.isUserLoggedIn?a("v-list-tile",{on:{click:function(e){return t.navigateTo({name:"database"})}}},[a("v-list-tile-title",[t._v("database")])],1):t._e(),t.$store.state.isUserLoggedIn?t._e():a("v-list-tile",{on:{click:function(e){return t.navigateTo({name:"register"})}}},[a("v-list-tile-title",[t._v("register")])],1),t.$store.state.isUserLoggedIn?t._e():a("v-list-tile",{on:{click:function(e){return t.navigateTo({name:"login"})}}},[a("v-list-tile-title",[t._v("login")])],1),t.$store.state.isUserLoggedIn?a("v-list-tile",{attrs:{flat:"",dark:""},on:{click:t.logout}},[a("v-list-tile-title",[t._v("logout")])],1):t._e()],1)],1),a("v-fab-transition",[a("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return["database"===t.$route.name?a("v-btn",t._g({attrs:{color:"accent",dark:"",small:"",absolute:"",bottom:"",left:"",fab:""},on:{click:function(e){return t.$store.dispatch("setInsertDialog",!0)}}},n),[a("v-icon",[t._v("add")])],1):t._e()]}}])},[a("span",[t._v("Add a Document")])])],1)],1)},D=[],S={components:{},methods:{navigateTo:function(t){var e=this;"database"===t.name&&this.$store.dispatch("setLoadingStatus",!0),setTimeout(function(){e.$router.push(t)},10)},logout:function(){this.$store.dispatch("logout"),this.$router.push({name:"home"})}}},T=S,E=(a("76b8"),a("8860")),O=a("ba95"),w=a("5d23"),C=a("e449"),I=a("706c"),V=Object(v["a"])(T,y,D,!1,null,"527feadf",null),$=V.exports;p()(V,{VBtn:h["a"],VFabTransition:m["b"],VIcon:b["a"],VList:E["a"],VListTile:O["a"],VListTileTitle:w["a"],VMenu:C["a"],VToolbarItems:g["a"],VToolbarSideIcon:I["a"],VTooltip:x["a"]});var j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-fade-transition",{attrs:{mode:"out-in"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"progressBar"},[a("div",{staticClass:"spinner"},[a("div",{staticClass:"rect1 accent"}),a("div",{staticClass:"rect2 accent"}),a("div",{staticClass:"rect3 accent"}),a("div",{staticClass:"rect4 accent"}),a("div",{staticClass:"rect5 accent"})])])])},L=[],A=a("cebc"),N=a("2f62"),P={methods:{},data:function(){return{}},watch:{},computed:Object(A["a"])({},Object(N["c"])(["loading"]),{isLoading:function(){return this.loading}})},R=P,B=(a("fc7a"),Object(v["a"])(R,j,L,!1,null,"73bb826a",null)),F=B.exports;p()(B,{VFadeTransition:m["c"]});var U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-snackbar",{attrs:{top:"",timeout:t.notifications.timeout,color:t.notifications.snackbarColor},model:{value:t.notifications.snackbar,callback:function(e){t.$set(t.notifications,"snackbar",e)},expression:"notifications.snackbar"}},[t._v("\n    "+t._s(t.notifications.snackbarText)+"\n    "),a("v-btn",{attrs:{flat:""},on:{click:function(e){t.snackbar=!1}}},[t._v("Close")])],1)],1)},G=[],M={data:function(){return{}},computed:Object(A["a"])({},Object(N["c"])(["notifications"])),methods:Object(A["a"])({},Object(N["b"])(["setSnackbar"]),{close:function(){this.setSnackbar(!1)}})},J=M,z=a("2db4"),K=Object(v["a"])(J,U,G,!1,null,"55ea77f0",null),W=K.exports;p()(K,{VBtn:h["a"],VSnackbar:z["a"]});var Y={components:{Nav:k,MobileNav:$,Progress:F,Notifications:W},name:"App"},H=Y,q=(a("034f"),a("7496")),Q=a("549c"),X=a("9910"),Z=a("71d9"),tt=Object(v["a"])(H,r,s,!1,null,null,null),et=tt.exports;p()(tt,{VApp:q["a"],VContent:Q["a"],VIcon:b["a"],VSpacer:X["a"],VToolbar:Z["a"],VToolbarTitle:g["b"]});var at=a("8c4f"),nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":"",row:""}},[a("v-flex",{attrs:{xs12:"",sm10:"",lg8:""}},[a("v-card",{staticClass:"elevation-4"},[a("v-flex",{staticClass:"header display-1 primary white--text"},[a("h1",{staticClass:"mb-5"},[t._v("Welcome")]),a("p",[t._v("This is a material design visualizer for a mongoDB database")]),a("v-card-actions",{staticClass:"pa-0 mt-5"},[a("router-link",{attrs:{to:"register"}},[a("v-btn",{attrs:{round:"",large:"",depressed:"",color:"accent"}},[t._v("Register")])],1)],1)],1),a("div",[a("h3",{staticClass:"headline ma-0 text"},[t._v("\n            A collection will be created for your and you will be able to\n            insert documents, modify and delete them\n          ")])])],1)],1)],1)],1)},ot=[],it={data:function(){return{title:"home page"}}},rt=it,st=(a("5831"),a("b0af")),ct=a("99d9"),lt=a("a523"),ut=a("0e8f"),dt=a("a722"),vt=Object(v["a"])(rt,nt,ot,!1,null,"dab5ff08",null),ft=vt.exports;p()(vt,{VBtn:h["a"],VCard:st["a"],VCardActions:ct["a"],VContainer:lt["a"],VFlex:ut["a"],VLayout:dt["a"]});var pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sections"},[a("v-layout",{staticClass:"pb-5",attrs:{"align-start":"","justify-center":"",row:"","fill-height":""}},[a("v-dialog",{attrs:{"max-width":"800px"},model:{value:t.$store.state.editDialog,callback:function(e){t.$set(t.$store.state,"editDialog",e)},expression:"$store.state.editDialog"}},[a("v-card",[a("v-card-title",[a("h4",[t._v("Edit Value")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-textarea",{ref:"editInputArea",attrs:{box:"",label:"Value"},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.editField(e)}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"accent",flat:""},on:{click:t.closeEditDialog}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"accent",flat:""},on:{click:t.editField}},[t._v("Save")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"800px"},model:{value:t.$store.state.deleteItemDialog,callback:function(e){t.$set(t.$store.state,"deleteItemDialog",e)},expression:"$store.state.deleteItemDialog"}},[a("v-card",[a("v-card-title",[a("h4",[t._v("Delete Value")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:""}},[t._v("Are you sure you want to delete this item")])],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"accent",flat:""},on:{click:t.closeDeleteItemDialog}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"accent",flat:""},on:{click:t.deleteField}},[t._v("Delete")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"800px"},model:{value:t.deleteDialog,callback:function(e){t.deleteDialog=e},expression:"deleteDialog"}},[a("v-card",[a("v-card-title",[a("h4",[t._v("Delete Document")])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:""}},[t._v("Are you sure you want to delete this document")])],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"accent",flat:""},on:{click:t.closeDeleteDialog}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"accent",flat:""},on:{click:t.confirmDelete}},[t._v("Delete")])],1)],1)],1),a("v-flex",{attrs:{xs10:""}},[a("v-dialog",{attrs:{"max-width":"800px"},model:{value:t.$store.state.insertDialog,callback:function(e){t.$set(t.$store.state,"insertDialog",e)},expression:"$store.state.insertDialog"}},[a("v-card",[a("v-card-title",[a("h4",[t._v("Add an Item")]),a("v-spacer"),a("v-btn",{staticStyle:{"font-size":"20px"},attrs:{fab:"",small:"",depressed:""},on:{click:function(e){t.expand=!t.expand}}},[t._v("?")])],1),a("v-card-text",{staticClass:"text-xs-center"},[a("v-expand-transition",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.expand,expression:"expand"}]},[a("div",{staticClass:"text-xs-center title accent--text mb-2"},[t._v("\n                  You can try inserting strings, numbers, arrays or objects.\n                ")]),a("v-icon",{staticClass:"accent--text"},[t._v("arrow_drop_down")]),a("p",{staticClass:"text-xs-left insert-example info--text px-5 py-4 ma-4 secondary lighten-4"},[t._v('\n                  [{ "id": 1, "name": "Leanne Graham", "username": "Bret",\n                  "email": "Sincere@april.biz", "address": { "street": "Kulas\n                  Light", "suite": "Apt. 556", "city": "Gwenborough",\n                  "zipcode": "92998-3874", "geo": { "lat": "-37.3159", "lng":\n                  "81.1496" } }, "phone": "1-770-736-8031 x56442", "website":\n                  "hildegard.org", "company": { "name": "Romaguera-Crona",\n                  "catchPhrase": "Multi-layered client-server neural-net",\n                  "bs": "harness real-time e-markets" } }, { "id": 2, "name":\n                  "Ervin Howell", "username": "Antonette", "email":\n                  "Shanna@melissa.tv", "address": { "street": "Victor Plains",\n                  "suite": "Suite 879", "city": "Wisokyburgh", "zipcode":\n                  "90566-7771", "geo": { "lat": "-43.9509", "lng": "-34.4618"\n                  } }, "phone": "010-692-6593 x09125", "website":\n                  "anastasia.net", "company": { "name": "Deckow-Crist",\n                  "catchPhrase": "Proactive didactic contingency", "bs":\n                  "synergize scalable supply-chains" } }]\n                ')])],1)]),a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"key",box:""},model:{value:t.key,callback:function(e){t.key=e},expression:"key"}}),a("v-textarea",{ref:"insertInputArea",attrs:{box:"",label:"Value"},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.insertInfo(e)}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"accent",flat:""},on:{click:t.closeInsertDialog}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"accent",flat:""},on:{click:t.insertInfo}},[t._v("Save")])],1)],1)],1),a("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("div",{staticClass:"text-xs-center",attrs:{xs12:""}},[a("v-btn",t._g({staticClass:"mb-3",attrs:{outline:"",color:t.isDbOn?"accent":"error"},on:{click:t.toggle}},n),[t._v("database is "+t._s(t.isDbOn?"on":"off"))])],1)]}}])},[a("span",[t._v("\n          "+t._s(t.isDbOn?"Trigger errors from server calls to database":"Restore server link to database")+"\n        ")])]),a("v-toolbar",{attrs:{dark:"",color:"info"}},[a("v-toolbar-title",[t._v("Collection")]),a("v-spacer")],1),a("v-alert",{attrs:{value:t.error,type:"error",outline:""}},[t._v(t._s(t.error))]),a("v-expansion-panel",{attrs:{expand:""}},t._l(t.documents,function(e,n){return a("Recur",{key:e._id,attrs:{elements:e,index:n,k:n,isArray:!0,deletable:!0},on:{"delete-document":t.openDeleteDialog,"edit-document":t.openEditDialog}})}),1)],1)],1)],1)},ht=[],mt=a("bd86"),bt=(a("28a5"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-flex",{staticClass:"flexWrapper",attrs:{row:"",xs12:""},on:{mouseover:function(e){t.isActive=!0},mouseleave:function(e){t.isActive=!1}}},[a("v-expansion-panel-content",{class:{hover:"_id"!==t.header},attrs:{readonly:"_id"===t.header,disabled:"_id"===t.header},scopedSlots:t._u([{key:"header",fn:function(){return[a("div",{staticClass:"subheading font-weight-medium"},[t._v(t._s(t.header))]),a("div",{staticClass:"accent--text text-xs-center spacer"},["_id"===t.header?a("div",[t._v(t._s(t.value))]):t._e()]),a("v-fab-transition",[t.deletable||"_id"===t.header?t._e():a("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}],staticClass:"headerButton",attrs:{color:"primary",flat:"",fab:"",small:""},on:{click:t.deleteItem}},[a("v-icon",[t._v("delete")])],1)],1),t.deletable?a("v-btn",{attrs:{color:"primary",flat:"",fab:"",small:""},on:{click:t.deleteDocument}},[a("v-icon",[t._v("delete")])],1):t._e(),a("div",{staticClass:"caption font-weight-bold accent--text text-uppercase"},[t._v("\n        "+t._s(t.type)+"\n      ")])]},proxy:!0}])},[a("v-layout",["object"===t.type||"array"===t.type?a("v-flex",{staticClass:"pa-2 fl",attrs:{"xs-12":""}},[a("v-expansion-panel",{attrs:{expand:""},model:{value:t.panel,callback:function(e){t.panel=e},expression:"panel"}},t._l(t.elements,function(e,n,o){return a("recur",{key:n,attrs:{elements:e,k:n,isArray:"array"===t.type,index:o,path:t.cPath,oPath:t.objectPath}})}),1)],1):a("v-flex",{staticClass:"text-xs-center",attrs:{xs12:""}},[a("div",{staticClass:"value mx-5 pa-4 secondary lighten-3"},[t._v(t._s(t.value))]),"_id"!==t.k?a("Badge",{on:{edit:t.editDocument}}):t._e()],1)],1)],1)],1)}),gt=[],xt=(a("a481"),a("4917"),a("3b2b"),a("7618")),_t=(a("6b54"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-xs-center pa-2"},[a("v-badge",{attrs:{left:""}},[a("v-btn",{staticClass:"caption",attrs:{small:"",flat:"",round:"",color:"accent"},on:{click:t.edit}},[a("v-icon",{staticClass:"iconA"},[t._v("edit")]),t._v("Â Â Edit value\n    ")],1)],1)],1)}),kt=[],yt={methods:{edit:function(){this.$emit("edit")},deleteItem:function(){this.$emit("delete-item")}}},Dt=yt,St=(a("dd8b"),a("4ca6")),Tt=Object(v["a"])(Dt,_t,kt,!1,null,"40b7ecf6",null),Et=Tt.exports;p()(Tt,{VBadge:St["a"],VBtn:h["a"],VIcon:b["a"]});var Ot={name:"recur",props:["elements","k","index","path","deletable","isArray","oPath"],components:{recur:$t,Badge:Et},data:function(){return{docId:null,dialog:!1,deleteDialog:!1,value:this.elements,dataElements:this.elements,panel:[],isActive:!1}},watch:{elements:function(t){this.value=t}},mounted:function(){var t=this.documentIndex[0];this.docId=this.$store.state.sections[t]._id.toString()},methods:{editDocument:function(){var t={id:this.docId,field:this.cField,component:this,value:this.value};this.$store.dispatch("setEditDialog",!0),this.$store.dispatch("setEditObject",t)},deleteItem:function(){var t={id:this.docId,field:this.cField,component:this,path:this.Path,cPath:this.cPath,isArray:this.isArray,oPath:this.oPath,property:this.k};this.$store.dispatch("setDeleteItemDialog",!0),this.$store.dispatch("setEditObject",t)},deleteDocument:function(t){t.stopPropagation(),this.$emit("delete-document",this.docId)},typeOf:function(t){return"object"===Object(xt["a"])(t)?null===t?"null":"[object Array]"===Object.prototype.toString.call(t)?"array":"object":Object(xt["a"])(t)}},computed:{type:function(){return this.typeOf(this.elements)},cPath:function(){return this.path?"".concat(this.path,".").concat(this.k):"".concat(this.k)},objectPath:function(){return this.isArray?this.path?"".concat(this.oPath,"[").concat(this.k,"]"):"[".concat(this.k,"]"):this.path?"".concat(this.oPath,".").concat(this.k):"".concat(this.k)},cField:function(){return this.cPath.slice(2)},documentIndex:function(){var t=new RegExp(/[^.]*/);return this.cPath.match(t)},arrayItem:function(){var t=new RegExp(/[^.]+$/gm),e=this.path.match(t);console.log(e);var a=e[0].replace(/s$/i,"");return a},header:function(){var t=new RegExp("[0-9]");return t.test(this.k.toString())?this.deletable?"Document ".concat(this.k+1):"".concat(this.arrayItem," ").concat(this.k+1):this.k}}},wt=Ot,Ct=(a("d96a"),a("cd55")),It=a("49e2"),Vt=Object(v["a"])(wt,bt,gt,!1,null,"1481ead9",null),$t=Vt.exports;p()(Vt,{VBtn:h["a"],VExpansionPanel:Ct["a"],VExpansionPanelContent:It["a"],VFabTransition:m["b"],VFlex:ut["a"],VIcon:b["a"],VLayout:dt["a"]});var jt={components:{Recur:$t},data:function(){return{title:"database",key:"",value:"",deleteDialog:!1,idToEdit:null,idToDelete:null,path:"",documents:[],error:"",expand:!1}},mounted:function(){var t=this;this.isUserLoggedIn?(this.getSections(),this.setLoadingStatus(!0),0!==this.sections.length&&setTimeout(function(){t.documents=t.sections,t.setLoadingStatus(!1)},50)):this.error="You need to be logged in"},computed:Object(A["a"])({},Object(N["c"])(["sections","editObject","editDialog","insertDialog","deleteItemDialog","loading","isDbOn","isUserLoggedIn"])),watch:{editDialog:function(t){var e=this;!0===t&&(this.value=this.editObject.value,this.$nextTick(function(){e.$refs.editInputArea.focus()}))},insertDialog:function(t){var e=this;!0===t&&this.$nextTick(function(){e.$refs.insertInputArea.focus()})},sections:function(t){var e=this;setTimeout(function(){e.documents=t,e.setLoadingStatus(!1)},50)}},methods:Object(A["a"])({},Object(N["b"])(["fetchSections","insertDocument","editDocument","deleteItem","deleteDocument","setEditDialog","setInsertDialog","setLoadingStatus","setDeleteItemDialog","resetEditObject","toggleDatabaseConnexion","createSnackbar"]),{getSections:function(){var t=this;this.setLoadingStatus(!0),this.fetchSections().then(function(e){e.error&&(t.error=e.error)})},testJSON:function(t){try{return JSON.parse(t)}catch(e){return JSON.parse('"'.concat(t,'"'))}},editField:function(){var t=this,e={value:this.value,modifyer:"$set"};this.setLoadingStatus(!0),this.editDocument(e).then(function(){t.createSnackbar({text:"Document Modified",color:"success",value:!0}),t.editObject.component.value=e.value,t.resetEditObject(),t.value="",t.setLoadingStatus(!1)}).catch(function(a){a&&(t.createSnackbar({text:a.response.data.error,color:"error",value:!0}),t.editObject.component.value=e.value,t.resetEditObject(),t.value="",t.setLoadingStatus(!1))}),this.setEditDialog(!1)},deleteField:function(){var t=this,e={value:"__item_to_be_deleted__",modifyer:""};this.setLoadingStatus(!0),this.editObject.isArray?(e.modifyer="$set",this.editDocument(e).then(function(){e.modifyer="$pull",t.editObject.arrayPath=t.editObject.field.split("."),t.editObject.arrayPath.pop(),t.editObject.arrayPath.join("."),t.editDocument(e).then(function(){t.createSnackbar({text:"Field Deleted",color:"success",value:!0}),t.getSections(),t.value="",t.resetEditObject(),t.setLoadingStatus(!1)}).catch(function(e){e&&(t.createSnackbar({text:e.response.data.error,color:"error",value:!0}),t.getSections(),t.value="",t.resetEditObject(),t.setLoadingStatus(!1))})})):(e.modifyer="$unset",this.editDocument(e).then(function(){t.createSnackbar({text:"Field Deleted",color:"success",value:!0}),t.getSections(),t.value="",t.resetEditObject(),t.setLoadingStatus(!1)}).catch(function(e){e&&(t.createSnackbar({text:e.response.data.error,color:"error",value:!0}),t.value="",t.resetEditObject(),t.setLoadingStatus(!1))})),this.setDeleteItemDialog(!1)},insertInfo:function(){var t=this;this.setLoadingStatus(!0);var e=this.key?Object(mt["a"])({},this.key,this.testJSON(this.value)):{key:this.testJSON(this.value)};this.insertDocument(e).then(function(){t.createSnackbar({text:"Document Inserted",color:"success",value:!0}),t.getSections(),t.value="",t.setLoadingStatus(!1)}).catch(function(e){e&&(t.createSnackbar({text:e.response.data.error,color:"error",value:!0}),t.value="",t.setLoadingStatus(!1))}),this.closeInsertDialog()},confirmDelete:function(){var t=this,e=this.idToDelete;this.setLoadingStatus(!0),this.deleteDocument(e).then(function(){t.createSnackbar({text:"Document Deleted",color:"success",value:!0}),t.getSections(),t.idToDelete=null,t.deleteDialog=!1,t.setLoadingStatus(!1)}).catch(function(e){e&&(t.createSnackbar({text:e.response.data.error,color:"error",value:!0}),t.idToDelete=null,t.deleteDialog=!1,t.setLoadingStatus(!1))})},closeInsertDialog:function(){this.setInsertDialog(!1),this.value="",this.key=""},openEditDialog:function(){this.setEditDialog(!0)},closeEditDialog:function(){this.setEditDialog(!1),this.value=""},openDeleteItemDialog:function(){this.setDeleteItemDialog(!0)},closeDeleteItemDialog:function(){this.setDeleteItemDialog(!1),this.value=""},openDeleteDialog:function(t){this.deleteDialog=!0,this.idToDelete=t},closeDeleteDialog:function(){this.deleteDialog=!1,this.idToDelete=null},toggle:function(){this.toggleDatabaseConnexion()}})},Lt=jt,At=(a("94ce"),a("0798")),Nt=a("12b2"),Pt=a("169a"),Rt=a("2677"),Bt=a("a844"),Ft=Object(v["a"])(Lt,pt,ht,!1,null,"2a95caeb",null),Ut=Ft.exports;p()(Ft,{VAlert:At["a"],VBtn:h["a"],VCard:st["a"],VCardActions:ct["a"],VCardText:ct["b"],VCardTitle:Nt["a"],VContainer:lt["a"],VDialog:Pt["a"],VExpandTransition:m["a"],VExpansionPanel:Ct["a"],VFlex:ut["a"],VIcon:b["a"],VLayout:dt["a"],VSpacer:X["a"],VTextField:Rt["a"],VTextarea:Bt["a"],VToolbar:Z["a"],VToolbarTitle:g["b"],VTooltip:x["a"]});var Gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":"",row:""}},[a("v-flex",{attrs:{xs12:"",sm8:"",lg4:""}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{dark:"",color:"info"}},[a("v-toolbar-title",[t._v("Register")])],1),a("v-flex",[a("v-expand-transition",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.container,expression:"container"}]},[a("v-alert",{directives:[{name:"show",rawName:"v-show",value:t.alert,expression:"alert"}],staticClass:"ma-3",attrs:{dismissible:"",outline:"",type:"error"},model:{value:t.container,callback:function(e){t.container=e},expression:"container"}},[t._v(t._s(t.error))])],1)])],1),a("v-card-text",[a("v-form",{attrs:{autocomplete:"new-password"}},[a("v-text-field",{attrs:{"prepend-icon":"person",name:"register",label:"register",type:"text",autocomplete:"off"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{"prepend-icon":"lock",name:"password",label:"password",type:"password",autocomplete:"new-password"},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.register(e)}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"info"},on:{click:t.register}},[t._v("register")])],1)],1)],1)],1)],1)],1)},Mt=[],Jt=(a("96cf"),a("3b8d")),zt=a("bc3a"),Kt=a.n(zt),Wt={getSections:function(t,e){return Xt().get("/?coll="+t+"&isDbOn="+e)},toggleDB:function(){return Xt().get("/connexion")},putSection:function(t){return Xt().put("/",t)},postSection:function(t){return Xt().post("/",t)},getSection:function(t){return Xt().get("/sections/"+t)},deleteSection:function(t){return Xt().delete("/",{data:t})}},Yt={snackbarColor:"",snackbarText:"",snackbar:!1,timeout:1200},Ht={UPDATE_SNACKBAR:function(t,e){t.snackbarColor=e.color,t.snackbarText=e.text,t.snackbar=e.value},RESET_SNACKBAR:function(t){t.snackbarColor="",t.snackbarText="",t.snackbar=!1}},qt={resetSnackbar:function(t){var e=t.state,a=t.commit;setTimeout(function(){a("RESET_SNACKBAR")},e.timeout+500)},createSnackbar:function(t,e){var a=t.commit,n=t.dispatch;a("UPDATE_SNACKBAR",e),n("resetSnackbar")},snackbarError:function(t){this.snackbarText=t,this.snackbarColor="error",this.snackbar=!0,this.resetSnackbar()}};o["a"].use(N["a"]);var Qt=new N["a"].Store({modules:{notifications:n},state:{user:{},token:null,isUserLoggedIn:!1,isDbOn:!0,sections:[],editObject:{},editDialog:!1,insertDialog:!1,deleteItemDialog:!1,loading:!1,renderCount:0,error:""},mutations:{SET_USER:function(t,e){t.user=e},SET_TOKEN:function(t,e){t.token=e},SET_SECTIONS:function(t,e){t.sections=e},SET_EDIT_OBJECT:function(t,e){t.editObject=e},RESET_EDIT_OBJECT:function(t){t.editObject={}},SET_EDIT_DIALOG:function(t,e){t.editDialog=e},SET_INSERT_DIALOG:function(t,e){t.insertDialog=e},SET_DELETE_ITEM_DIALOG:function(t,e){t.deleteItemDialog=e},SET_LOADING_STATUS:function(t,e){t.loading=e},SET_ERROR:function(t,e){t.error=e},TOGGLE_DB:function(t){t.isDbOn=!t.isDbOn},SET_LOGIN_STATE:function(t,e){t.isUserLoggedIn=e}},actions:{fetchSections:function(t){var e=t.commit,a=t.state;return Wt.getSections(a.user.collName,a.isDbOn).then(function(t){return e("SET_SECTIONS",t.data.documents),console.log("fetched documents"),t.data.db}).catch(function(t){return e("SET_LOADING_STATUS",!1),e("SET_SECTIONS",[]),t.response.data})},login:function(t,e){var a=t.commit;a("SET_USER",e.user),a("SET_TOKEN",e.token),a("SET_LOGIN_STATE",!0)},logout:function(t){var e=t.commit;e("SET_USER",{}),e("SET_TOKEN",null),e("SET_LOGIN_STATE",!1),e("SET_SECTIONS",[])},setEditObject:function(t,e){var a=t.commit;a("SET_EDIT_OBJECT",e)},resetEditObject:function(t){var e=t.commit;e("RESET_EDIT_OBJECT")},setEditDialog:function(t,e){var a=t.commit;a("SET_EDIT_DIALOG",e)},setInsertDialog:function(t,e){var a=t.commit;a("SET_INSERT_DIALOG",e)},setDeleteItemDialog:function(t,e){var a=t.commit;a("SET_DELETE_ITEM_DIALOG",e)},setLoadingStatus:function(t,e){var a=t.commit;a("SET_LOADING_STATUS",e)},insertDocument:function(t,e){var a=t.state,n={payload:e,coll:a.user.collName,isDbOn:a.isDbOn};return Wt.postSection(n)},deleteDocument:function(t,e){var a=t.state,n={_id:e,coll:a.user.collName,isDbOn:a.isDbOn};return Wt.deleteSection(n)},editDocument:function(t,e){var a=t.state,n={_id:a.editObject.id,payload:Object(mt["a"])({},a.editObject.arrayPath?a.editObject.arrayPath:a.editObject.field,e.value),modifyer:e.modifyer,coll:a.user.collName,isDbOn:a.isDbOn};return Wt.putSection(n)},deleteItem:function(t){var e=t.state,a={_id:e.editObject.id,payload:Object(mt["a"])({},e.editObject.field,""),modifyer:"$unset",coll:e.user.collName,isDbOn:e.isDbOn};return Wt.putSection(a).catch(function(t){return t.response.data.error})},toggleDatabaseConnexion:function(t){var e=t.commit;e("TOGGLE_DB")}}}),Xt=function(){return Kt.a.create({baseURL:"http://localhost:5000",headers:{Authorization:"Bearer ".concat(Qt.state.token)}})},Zt={register:function(t){return Xt().post("/register",t)},login:function(t){return Xt().post("/login",t)}},te={data:function(){return{email:"",password:"",error:"",alert:!1,container:!1}},watch:{alert:function(t){var e=this;this.$nextTick(function(){e.container=t})},container:function(t){var e=this;this.$nextTick(function(){e.alert=t})}},methods:{register:function(){var t=Object(Jt["a"])(regeneratorRuntime.mark(function t(){var e,a,n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e={email:this.email,password:this.password,collName:this.email},t.prev=1,t.next=4,Zt.register(e);case 4:a=t.sent,this.$store.dispatch("login",a.data),this.$store.dispatch("createSnackbar",{text:"Registered ".concat(e.email),color:"success",value:!0}),setTimeout(function(){n.$router.push({name:"database"})},500),t.next=15;break;case 10:t.prev=10,t.t0=t["catch"](1),this.alert=!0,this.error=t.t0.response.data.error,this.$store.dispatch("createSnackbar",{text:"Unable to register",color:"error",value:!0});case 15:case"end":return t.stop()}},t,this,[[1,10]])}));function e(){return t.apply(this,arguments)}return e}()}},ee=te,ae=a("4bd4"),ne=Object(v["a"])(ee,Gt,Mt,!1,null,"15bb03f6",null),oe=ne.exports;p()(ne,{VAlert:At["a"],VBtn:h["a"],VCard:st["a"],VCardActions:ct["a"],VCardText:ct["b"],VContainer:lt["a"],VExpandTransition:m["a"],VFlex:ut["a"],VForm:ae["a"],VLayout:dt["a"],VSpacer:X["a"],VTextField:Rt["a"],VToolbar:Z["a"],VToolbarTitle:g["b"]});var ie=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":"",row:""}},[a("v-flex",{attrs:{xs12:"",sm8:"",lg4:""}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{dark:"",color:"info"}},[a("v-toolbar-title",[t._v("Login")])],1),a("v-flex",[a("v-expand-transition",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.container,expression:"container"}]},[a("v-alert",{directives:[{name:"show",rawName:"v-show",value:t.alert,expression:"alert"}],staticClass:"ma-3",attrs:{dismissible:"",outline:"",type:"error"},model:{value:t.container,callback:function(e){t.container=e},expression:"container"}},[t._v(t._s(t.error))])],1)])],1),a("v-card-text",[a("v-form",{attrs:{autocomplete:"new-password"}},[a("v-text-field",{attrs:{"prepend-icon":"person",name:"login",label:"login",type:"text",autocomplete:"off"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{"prepend-icon":"lock",name:"password",label:"password",type:"password",autocomplete:"new-password"},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"info"},on:{click:t.login}},[t._v("login")])],1)],1)],1)],1)],1)],1)},re=[],se={data:function(){return{email:"",password:"",error:"",alert:!1,container:!1}},watch:{alert:function(t){var e=this;this.$nextTick(function(){e.container=t})},container:function(t){var e=this;this.$nextTick(function(){e.alert=t})}},methods:{login:function(){var t=Object(Jt["a"])(regeneratorRuntime.mark(function t(){var e,a,n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e={email:this.email,password:this.password,collName:this.email},t.prev=1,t.next=4,Zt.login(e);case 4:a=t.sent,this.$store.dispatch("login",a.data),this.$store.dispatch("createSnackbar",{text:"Login successful",color:"success",value:!0}),setTimeout(function(){n.$router.push({name:"database"})},500),t.next=15;break;case 10:t.prev=10,t.t0=t["catch"](1),this.alert=!0,this.error=t.t0.response.data.error,this.$store.dispatch("createSnackbar",{text:"Unable to login",color:"error",value:!0});case 15:case"end":return t.stop()}},t,this,[[1,10]])}));function e(){return t.apply(this,arguments)}return e}()}},ce=se,le=Object(v["a"])(ce,ie,re,!1,null,"6b45db88",null),ue=le.exports;p()(le,{VAlert:At["a"],VBtn:h["a"],VCard:st["a"],VCardActions:ct["a"],VCardText:ct["b"],VContainer:lt["a"],VExpandTransition:m["a"],VFlex:ut["a"],VForm:ae["a"],VLayout:dt["a"],VSpacer:X["a"],VTextField:Rt["a"],VToolbar:Z["a"],VToolbarTitle:g["b"]}),o["a"].use(at["a"]);var de=new at["a"]({routes:[{path:"/",name:"home",component:ft},{path:"/database",name:"database",component:Ut},{path:"/register",name:"register",component:oe},{path:"/login",name:"login",component:ue}]});o["a"].config.productionTip=!1,new o["a"]({router:de,store:Qt,render:function(t){return t(et)}}).$mount("#app")},5831:function(t,e,a){"use strict";var n=a("5f51"),o=a.n(n);o.a},"5f51":function(t,e,a){},"62ec":function(t,e,a){},"6a8f":function(t,e,a){},"6e91":function(t,e,a){"use strict";var n=a("ab70"),o=a.n(n);o.a},"76b8":function(t,e,a){"use strict";var n=a("6a8f"),o=a.n(n);o.a},"94ce":function(t,e,a){"use strict";var n=a("28ca"),o=a.n(n);o.a},"9f06":function(t,e,a){},ab70:function(t,e,a){},c57c:function(t,e,a){},d96a:function(t,e,a){"use strict";var n=a("62ec"),o=a.n(n);o.a},dd8b:function(t,e,a){"use strict";var n=a("9f06"),o=a.n(n);o.a},fc7a:function(t,e,a){"use strict";var n=a("c57c"),o=a.n(n);o.a}});
//# sourceMappingURL=app.04bb4e74.js.map